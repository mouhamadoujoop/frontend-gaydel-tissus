{"version":3,"file":"src_app_components_login_login_component_ts.js","mappings":"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","sources":["./src/app/components/login/login.component.ts","./src/app/components/login/login.component.html"],"sourcesContent":["import {\r\n  ChangeDetectionStrategy,\r\n  ChangeDetectorRef,\r\n  Component\r\n} from '@angular/core';\r\nimport { FormBuilder, ReactiveFormsModule, Validators } from '@angular/forms';\r\nimport { Router, RouterLink } from '@angular/router';\r\nimport { MatSnackBar, MatSnackBarModule } from '@angular/material/snack-bar';\r\nimport { fadeInUp400ms } from '@vex/animations/fade-in-up.animation';\r\nimport { MatCheckboxModule } from '@angular/material/checkbox';\r\nimport { MatIconModule } from '@angular/material/icon';\r\nimport { MatTooltipModule } from '@angular/material/tooltip';\r\nimport { MatButtonModule } from '@angular/material/button';\r\nimport { NgIf } from '@angular/common';\r\nimport { MatInputModule } from '@angular/material/input';\r\nimport { MatFormFieldModule } from '@angular/material/form-field';\r\nimport { LocalStorageService } from 'src/app/services/local-storage/local-storage.service';\r\nimport { AuthService } from 'src/app/services/auth/auth.service';\r\nimport { CookieService } from 'ngx-cookie-service';\r\nimport { User } from 'src/app/models/user';\r\n\r\n@Component({\r\n  selector: 'vex-login',\r\n  templateUrl: './login.component.html',\r\n  styleUrls: ['./login.component.scss'],\r\n  changeDetection: ChangeDetectionStrategy.OnPush,\r\n  animations: [fadeInUp400ms],\r\n  standalone: true,\r\n  imports: [\r\n    ReactiveFormsModule,\r\n    MatFormFieldModule,\r\n    MatInputModule,\r\n    NgIf,\r\n    MatButtonModule,\r\n    MatTooltipModule,\r\n    MatIconModule,\r\n    MatCheckboxModule,\r\n    RouterLink,\r\n    MatSnackBarModule\r\n  ]\r\n})\r\nexport class LoginComponent {\r\n  form = this.fb.group({\r\n    email: ['', Validators.required],\r\n    password: ['', Validators.required]\r\n  });\r\n\r\n  inputType = 'password';\r\n  visible = false;\r\n  user!: User;\r\n  token:any;\r\n\r\n  constructor(\r\n    private router: Router,\r\n    private fb: FormBuilder,\r\n    private cd: ChangeDetectorRef,\r\n    private localStorage: LocalStorageService,\r\n    private authService: AuthService,\r\n    private snackbar: MatSnackBar,\r\n    private cookieService: CookieService\r\n  ) {}\r\n\r\n  send() {\r\n    const formData = this.form.getRawValue();\r\n    const data = {\r\n      email : formData.email,\r\n      password : formData.password\r\n    }\r\n\r\n    this.authService.login(data).subscribe((result:any) => {\r\n      if (result.status === true) {\r\n        this.token = result.token;\r\n        sessionStorage.setItem('token', this.token);\r\n        this.user = new User(result.userConnected);\r\n        this.localStorage.saveData('dataUser', this.user); \r\n        this.localStorage.saveData('dataRole', result.userConnected.roles); \r\n        this.router.navigate(['']);\r\n        this.snackbar.open(\r\n          \"Bienvenue dans Votre espace de gestion de GAYDEL TISSU\",\r\n          'MERCI',\r\n          {\r\n            duration: 10000\r\n          }\r\n        );\r\n      }else{\r\n        this.snackbar.open(\r\n          \"Email ou Mot de passe incorrect\",\r\n          'MERCI DE REESSAYER',\r\n          {\r\n            duration: 10000\r\n          }\r\n        );\r\n\r\n      }\r\n    });\r\n  }\r\n\r\n  toggleVisibility() {\r\n    if (this.visible) {\r\n      this.inputType = 'password';\r\n      this.visible = false;\r\n      this.cd.markForCheck();\r\n    } else {\r\n      this.inputType = 'text';\r\n      this.visible = true;\r\n      this.cd.markForCheck();\r\n    }\r\n  }\r\n}","<div class=\"w-full h-full bg-pattern flex flex-col items-center justify-center\">\r\n    <div @fadeInUp class=\"card overflow-hidden w-full max-w-md\">\r\n      <div class=\"p-6 pb-0 flex flex-col items-center justify-center\">\r\n        <div class=\"fill-current text-center\">\r\n          <img class=\"w-16\" src=\"assets/img/logo/logo.svg\" />\r\n        </div>\r\n      </div>\r\n  \r\n      <div class=\"text-center mt-4\">\r\n        <h2 class=\"title m-0\">Welcome back</h2>\r\n        <h4 class=\"body-2 text-secondary m-0\">\r\n          Sign in with your credentials below.\r\n        </h4>\r\n      </div>\r\n  \r\n      <div [formGroup]=\"form\" class=\"p-6 flex flex-col gap-4\">\r\n        <div class=\"flex flex-col\">\r\n          <mat-form-field class=\"flex-1\">\r\n            <mat-label>E-Mail</mat-label>\r\n            <input formControlName=\"email\" matInput required />\r\n            <mat-error *ngIf=\"form.controls.email.hasError('required')\"\r\n            >Merci de saisire votre E-Mail\r\n            </mat-error>\r\n          </mat-form-field>\r\n          <mat-form-field class=\"flex-1\">\r\n            <mat-label>Password</mat-label>\r\n            <input\r\n              [type]=\"inputType\"\r\n              formControlName=\"password\"\r\n              matInput\r\n              required />\r\n            <button\r\n              (click)=\"toggleVisibility()\"\r\n              mat-icon-button\r\n              matIconSuffix\r\n              matTooltip=\"Toggle Visibility\"\r\n              type=\"button\">\r\n              <mat-icon *ngIf=\"visible\" svgIcon=\"mat:visibility\"></mat-icon>\r\n              <mat-icon *ngIf=\"!visible\" svgIcon=\"mat:visibility_off\"></mat-icon>\r\n            </button>\r\n            <mat-error *ngIf=\"form.controls.password.hasError('required')\"\r\n            >Merci de saisire votre mot de passe\r\n            </mat-error>\r\n          </mat-form-field>\r\n        </div>\r\n  \r\n        <div class=\"flex items-center justify-between\">\r\n          <a [routerLink]=\"['/forgot-password']\" class=\"caption\"\r\n          >Mot de passe Oublié?</a\r\n          >\r\n        </div>\r\n  \r\n        <button (click)=\"send()\" color=\"primary\" mat-raised-button type=\"button\">\r\n          SIGN IN\r\n        </button>\r\n  \r\n      </div>\r\n    </div>\r\n  </div>"],"names":["ReactiveFormsModule","Validators","RouterLink","MatSnackBarModule","fadeInUp400ms","MatCheckboxModule","MatIconModule","MatTooltipModule","MatButtonModule","NgIf","MatInputModule","MatFormFieldModule","User","i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵelement","LoginComponent","constructor","router","fb","cd","localStorage","authService","snackbar","cookieService","form","group","email","required","password","inputType","visible","send","formData","getRawValue","data","login","subscribe","result","status","token","sessionStorage","setItem","user","userConnected","saveData","roles","navigate","open","duration","toggleVisibility","markForCheck","_","ɵɵdirectiveInject","i1","Router","i2","FormBuilder","ChangeDetectorRef","i3","LocalStorageService","i4","AuthService","i5","MatSnackBar","i6","CookieService","_2","selectors","standalone","features","ɵɵStandaloneFeature","decls","vars","consts","template","LoginComponent_Template","rf","ctx","ɵɵtemplate","LoginComponent_mat_error_16_Template","ɵɵlistener","LoginComponent_Template_button_click_21_listener","LoginComponent_mat_icon_22_Template","LoginComponent_mat_icon_23_Template","LoginComponent_mat_error_24_Template","LoginComponent_Template_button_click_28_listener","ɵɵadvance","ɵɵproperty","undefined","controls","hasError","ɵɵpureFunction0","_c0","DefaultValueAccessor","NgControlStatus","NgControlStatusGroup","RequiredValidator","FormGroupDirective","FormControlName","i7","MatFormField","MatLabel","MatError","MatSuffix","i8","MatInput","i9","MatButton","MatIconButton","i10","MatTooltip","i11","MatIcon","styles","animation","changeDetection"],"sourceRoot":"webpack:///","x_google_ignoreList":[]}